import{S as M,i as O,s as q,A as ae,J as ne,e as E,j as C,c as U,a as R,m as N,d as g,b as k,f as y,o as S,I as H,x as L,u as $,v as V,k as F,t as j,n as A,g as z,K as se,H as h,l as B,r as x,w as ee,h as G,L as oe,M as J,N as K,O as W}from"../chunks/vendor-79e93234.js";function te(n){const e=document.createElement("canvas");e.width=n.width,e.height=n.height;const t=e.getContext("2d");return t.drawImage(n,0,0),t.getImageData(0,0,e.width,e.height)}function ie(n,e,t){let{loaded:l=!1}=e,{userImageUrl:a}=e,{userImage:s}=e,{runeImages:r}=e,i;const o=["amn","ber","cham","dol","el","eld","eth","fal","gul","hel","io","ist","ith","jah","ko","lem","lo","lum","mal","nef","ohm","ort","pul","ral","shael","sol","sur","tal","thul","tir","um","vex","zod"];function f(){o.forEach(m=>{const p=document.createElement("img");p.onload=()=>r.push({image:te(p),name:m}),p.src=`runes/${m}.png`})}return ae(()=>{i=document.createElement("img"),i.onload=()=>t(0,s=te(i)),f()}),n.$$set=m=>{"loaded"in m&&t(1,l=m.loaded),"userImageUrl"in m&&t(2,a=m.userImageUrl),"userImage"in m&&t(0,s=m.userImage),"runeImages"in m&&t(3,r=m.runeImages)},n.$$.update=()=>{n.$$.dirty&9&&t(1,l=r.length===o.length&&s),n.$$.dirty&4&&a&&(i.src=a)},[s,l,a,r]}class ue extends M{constructor(e){super();O(this,e,ie,null,q,{loaded:1,userImageUrl:2,userImage:0,runeImages:3})}}function ce(n){let e,t,l;return t=new ne({props:{onaddfile:n[0]}}),{c(){e=E("div"),C(t.$$.fragment),this.h()},l(a){e=U(a,"DIV",{class:!0});var s=R(e);N(t.$$.fragment,s),s.forEach(g),this.h()},h(){k(e,"class","app")},m(a,s){y(a,e,s),S(t,e,null),l=!0},p:H,i(a){l||(L(t.$$.fragment,a),l=!0)},o(a){$(t.$$.fragment,a),l=!1},d(a){a&&g(e),V(t)}}}function fe(n,e,t){let{imageUrl:l}=e;function a(s,r){t(1,l=URL.createObjectURL(r.file))}return n.$$set=s=>{"imageUrl"in s&&t(1,l=s.imageUrl)},[a,l]}class me extends M{constructor(e){super();O(this,e,fe,ce,q,{imageUrl:1})}}function _e(n){let e,t,l,a,s;return{c(){e=E("img"),l=F(),a=E("h2"),s=j("Finding Runewords..."),this.h()},l(r){e=U(r,"IMG",{alt:!0,src:!0,class:!0}),l=A(r),a=U(r,"H2",{class:!0});var i=R(a);s=z(i,"Finding Runewords..."),i.forEach(g),this.h()},h(){k(e,"alt","loading spinner"),se(e.src,t="runes/hel.png")||k(e,"src",t),k(e,"class","svelte-1w0i88g"),k(a,"class","svelte-1w0i88g")},m(r,i){y(r,e,i),y(r,l,i),y(r,a,i),h(a,s)},p:H,i:H,o:H,d(r){r&&g(e),r&&g(l),r&&g(a)}}}class de extends M{constructor(e){super();O(this,e,null,_e,q,{})}}function le(n,e,t){const l=n.slice();return l[5]=e[t].name,l[0]=e[t].runes,l[6]=e[t].link,l[7]=e[t].item_types,l[8]=e[t].level_required,l}function ge(n){let e,t;return e=new de({}),{c(){C(e.$$.fragment)},l(l){N(e.$$.fragment,l)},m(l,a){S(e,l,a),t=!0},p:H,i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){$(e.$$.fragment,l),t=!1},d(l){V(e,l)}}}function he(n){let e,t,l,a,s,r,i,o,f,m,p,D=n[1],_=[];for(let d=0;d<D.length;d+=1)_[d]=re(le(n,D,d));return{c(){e=E("table"),t=E("tr"),l=E("th"),a=j("Runeword"),s=E("th"),r=j("Runes"),i=E("th"),o=j("Items"),f=E("th"),m=j("Level"),p=F();for(let d=0;d<_.length;d+=1)_[d].c();this.h()},l(d){e=U(d,"TABLE",{class:!0});var v=R(e);t=U(v,"TR",{});var c=R(t);l=U(c,"TH",{class:!0});var u=R(l);a=z(u,"Runeword"),u.forEach(g),s=U(c,"TH",{class:!0});var I=R(s);r=z(I,"Runes"),I.forEach(g),i=U(c,"TH",{class:!0});var T=R(i);o=z(T,"Items"),T.forEach(g),f=U(c,"TH",{class:!0});var w=R(f);m=z(w,"Level"),w.forEach(g),c.forEach(g),p=A(v);for(let b=0;b<_.length;b+=1)_[b].l(v);v.forEach(g),this.h()},h(){k(l,"class","svelte-w5bovv"),k(s,"class","svelte-w5bovv"),k(i,"class","svelte-w5bovv"),k(f,"class","svelte-w5bovv"),k(e,"class","svelte-w5bovv")},m(d,v){y(d,e,v),h(e,t),h(t,l),h(l,a),h(t,s),h(s,r),h(t,i),h(i,o),h(t,f),h(f,m),h(e,p);for(let c=0;c<_.length;c+=1)_[c].m(e,null)},p(d,v){if(v&2){D=d[1];let c;for(c=0;c<D.length;c+=1){const u=le(d,D,c);_[c]?_[c].p(u,v):(_[c]=re(u),_[c].c(),_[c].m(e,null))}for(;c<_.length;c+=1)_[c].d(1);_.length=D.length}},i:H,o:H,d(d){d&&g(e),oe(_,d)}}}function re(n){let e,t,l,a=n[5]+"",s,r,i,o,f=Object.keys(n[0]).join(" ")+"",m,p,D,_=n[7]+"",d,v,c,u=n[8]+"",I,T;return{c(){e=E("tr"),t=E("td"),l=E("a"),s=j(a),i=F(),o=E("td"),m=j(f),p=F(),D=E("td"),d=j(_),v=F(),c=E("td"),I=j(u),T=F(),this.h()},l(w){e=U(w,"TR",{});var b=R(e);t=U(b,"TD",{class:!0});var P=R(t);l=U(P,"A",{href:!0,target:!0});var Q=R(l);s=z(Q,a),Q.forEach(g),P.forEach(g),i=A(b),o=U(b,"TD",{class:!0});var X=R(o);m=z(X,f),X.forEach(g),p=A(b),D=U(b,"TD",{class:!0});var Y=R(D);d=z(Y,_),Y.forEach(g),v=A(b),c=U(b,"TD",{class:!0});var Z=R(c);I=z(Z,u),Z.forEach(g),T=A(b),b.forEach(g),this.h()},h(){k(l,"href",r=n[6]),k(l,"target","_blank"),k(t,"class","svelte-w5bovv"),k(o,"class","svelte-w5bovv"),k(D,"class","svelte-w5bovv"),k(c,"class","level svelte-w5bovv")},m(w,b){y(w,e,b),h(e,t),h(t,l),h(l,s),h(e,i),h(e,o),h(o,m),h(e,p),h(e,D),h(D,d),h(e,v),h(e,c),h(c,I),h(e,T)},p(w,b){b&2&&a!==(a=w[5]+"")&&G(s,a),b&2&&r!==(r=w[6])&&k(l,"href",r),b&2&&f!==(f=Object.keys(w[0]).join(" ")+"")&&G(m,f),b&2&&_!==(_=w[7]+"")&&G(d,_),b&2&&u!==(u=w[8]+"")&&G(I,u)},d(w){w&&g(e)}}}function ve(n){let e,t,l,a;const s=[he,ge],r=[];function i(o,f){return o[1]?0:1}return e=i(n),t=r[e]=s[e](n),{c(){t.c(),l=B()},l(o){t.l(o),l=B()},m(o,f){r[e].m(o,f),y(o,l,f),a=!0},p(o,[f]){let m=e;e=i(o),e===m?r[e].p(o,f):(x(),$(r[m],1,1,()=>{r[m]=null}),ee(),t=r[e],t?t.p(o,f):(t=r[e]=s[e](o),t.c()),L(t,1),t.m(l.parentNode,l))},i(o){a||(L(t),a=!0)},o(o){$(t),a=!1},d(o){r[e].d(o),o&&g(l)}}}function pe(n,e,t){let{imageData:l}=e,{runes:a}=e,s;const r={image:l,runes:a},i=new Worker("worker.js");return i.postMessage(r),i.onmessage=o=>{t(1,s=o.data)},n.$$set=o=>{"imageData"in o&&t(2,l=o.imageData),"runes"in o&&t(0,a=o.runes)},[a,s,l]}class be extends M{constructor(e){super();O(this,e,pe,ve,q,{imageData:2,runes:0})}}function Ie(n){let e,t,l;function a(r){n[7](r)}let s={};return n[0]!==void 0&&(s.imageUrl=n[0]),e=new me({props:s}),J.push(()=>K(e,"imageUrl",a)),{c(){C(e.$$.fragment)},l(r){N(e.$$.fragment,r)},m(r,i){S(e,r,i),l=!0},p(r,i){const o={};!t&&i&1&&(t=!0,o.imageUrl=r[0],W(()=>t=!1)),e.$set(o)},i(r){l||(L(e.$$.fragment,r),l=!0)},o(r){$(e.$$.fragment,r),l=!1},d(r){V(e,r)}}}function we(n){let e,t,l;return t=new be({props:{imageData:n[1],runes:n[2]}}),{c(){e=E("div"),C(t.$$.fragment),this.h()},l(a){e=U(a,"DIV",{class:!0});var s=R(e);N(t.$$.fragment,s),s.forEach(g),this.h()},h(){k(e,"class","svelte-tzw21p")},m(a,s){y(a,e,s),S(t,e,null),l=!0},p(a,s){const r={};s&2&&(r.imageData=a[1]),s&4&&(r.runes=a[2]),t.$set(r)},i(a){l||(L(t.$$.fragment,a),l=!0)},o(a){$(t.$$.fragment,a),l=!1},d(a){a&&g(e),V(t)}}}function ke(n){let e,t,l,a,s,r,i,o,f;function m(u){n[4](u)}function p(u){n[5](u)}function D(u){n[6](u)}let _={userImageUrl:n[0]};n[3]!==void 0&&(_.loaded=n[3]),n[1]!==void 0&&(_.userImage=n[1]),n[2]!==void 0&&(_.runeImages=n[2]),e=new ue({props:_}),J.push(()=>K(e,"loaded",m)),J.push(()=>K(e,"userImage",p)),J.push(()=>K(e,"runeImages",D));const d=[we,Ie],v=[];function c(u,I){return u[3]?0:1}return r=c(n),i=v[r]=d[r](n),{c(){C(e.$$.fragment),s=F(),i.c(),o=B()},l(u){N(e.$$.fragment,u),s=A(u),i.l(u),o=B()},m(u,I){S(e,u,I),y(u,s,I),v[r].m(u,I),y(u,o,I),f=!0},p(u,[I]){const T={};I&1&&(T.userImageUrl=u[0]),!t&&I&8&&(t=!0,T.loaded=u[3],W(()=>t=!1)),!l&&I&2&&(l=!0,T.userImage=u[1],W(()=>l=!1)),!a&&I&4&&(a=!0,T.runeImages=u[2],W(()=>a=!1)),e.$set(T);let w=r;r=c(u),r===w?v[r].p(u,I):(x(),$(v[w],1,1,()=>{v[w]=null}),ee(),i=v[r],i?i.p(u,I):(i=v[r]=d[r](u),i.c()),L(i,1),i.m(o.parentNode,o))},i(u){f||(L(e.$$.fragment,u),L(i),f=!0)},o(u){$(e.$$.fragment,u),$(i),f=!1},d(u){V(e,u),u&&g(s),v[r].d(u),u&&g(o)}}}function Ee(n,e,t){let l,a,s=[],r=!1;function i(p){r=p,t(3,r)}function o(p){a=p,t(1,a)}function f(p){s=p,t(2,s)}function m(p){l=p,t(0,l)}return[l,a,s,r,i,o,f,m]}class De extends M{constructor(e){super();O(this,e,Ee,ke,q,{})}}export{De as default};
